/*
üèÖ N√≠vel Mestre
No n√≠vel Mestre, o desafio se intensifica com a adi√ß√£o de funcionalidades avan√ßadas, como menus din√¢micos 
e l√≥gica de decis√£o complexa com operadores tern√°rios.

üÜï Diferen√ßa em rela√ß√£o ao N√≠vel Aventureiro:
Escolha de Dois Atributos: O usu√°rio poder√° escolher dois atributos para compara√ß√£o entre as cartas.
L√≥gica de Decis√£o Complexa: Implementa√ß√£o de estruturas de decis√£o aninhadas e encadeadas, al√©m do uso de 
operadores tern√°rios para determinar a carta vencedora.
Menus Din√¢micos: Os menus ser√£o din√¢micos, permitindo uma navega√ß√£o fluida entre as op√ß√µes de compara√ß√£o.

üö© Novas Funcionalidades:
Compara√ß√£o de Dois Atributos: O sistema comparar√° dois atributos simultaneamente para determinar a carta vencedora.
L√≥gica Avan√ßada: Uso de operadores tern√°rios e l√≥gica aninhada para lidar com compara√ß√µes complexas.
Empates: O sistema ser√° capaz de lidar com empates, exibindo mensagens apropriadas.
Exibi√ß√£o de Resultados: Exibi√ß√£o dos resultados das compara√ß√µes de forma clara e interativa.

üìã Requisitos Funcionais Comuns
Cadastro de Cartas: O sistema deve permitir o cadastro de cartas com as informa√ß√µes necess√°rias.
Compara√ß√£o: O sistema deve comparar as cartas e determinar a vencedora com base nas regras estabelecidas.
Escolha de Dois Atributos: O sistema deve permitir que o jogador escolha dois atributos num√©ricos diferentes para a compara√ß√£o 
das cartas, atrav√©s de menus interativos. Implemente a l√≥gica necess√°ria para garantir que o jogador n√£o possa selecionar o 
mesmo atributo duas vezes.
Compara√ß√£o com M√∫ltiplos Atributos: Implemente a l√≥gica para comparar as duas cartas com base nos dois atributos escolhidos.
Para cada atributo, a regra geral √©: vence a carta com o maior valor. A exce√ß√£o continua sendo a Densidade Demogr√°fica, onde 
vence a carta com o menor valor.
Soma dos Atributos: Ap√≥s comparar os dois atributos individualmente, o sistema deve somar os valores dos atributos para 
cada carta. A carta com a maior soma vence a rodada.
Tratamento de Empates: Implemente a l√≥gica para tratar empates. Se a soma dos atributos das duas cartas for igual, 
exiba a mensagem "Empate!".
Menus Din√¢micos: Crie menus interativos e din√¢micos usando switch. "Din√¢micos" significa que, por exemplo, ap√≥s o 
jogador escolher o primeiro atributo, esse atributo n√£o deve mais aparecer como op√ß√£o para a escolha do segundo atributo.
Exibi√ß√£o Clara do Resultado: Mostre o resultado da compara√ß√£o de forma clara e organizada, incluindo:
    O nome dos dois pa√≠ses.
    Os dois atributos usados na compara√ß√£o.
    Os valores de cada atributo para cada carta.
    A soma dos atributos para cada carta.
    Qual carta venceu (ou se houve empate).

üìå Requisitos N√£o Funcionais Comuns
Usabilidade: A interface do usu√°rio deve ser simples e intuitiva.
Performance: O sistema deve executar opera√ß√µes sem atrasos percept√≠veis.
Manutenibilidade: O c√≥digo deve ser bem estruturado e documentado.
Confiabilidade: O sistema deve ser robusto e capaz de lidar com entradas inv√°lidas de forma adequada.

Requisitos n√£o funcionais
- Usabilidade: A interface do usu√°rio deve ser intuitiva e f√°cil de navegar, com mensagens claras e instru√ß√µes para cada etapa.
- Performance: O sistema deve executar as compara√ß√µes e exibir os resultados rapidamente.
- Manutenibilidade: Escreva um c√≥digo bem estruturado, organizado, com indenta√ß√£o consistente e coment√°rios explicativos. 
Use nomes de vari√°veis descritivos.
- Confiabilidade: O sistema deve ser robusto e lidar com entradas inv√°lidas do usu√°rio de forma adequada, exibindo 
mensagens de erro apropriadas e evitando travamentos. Utilize o default no switch para tratar op√ß√µes inv√°lidas.

Simplifica√ß√µes para o n√≠vel avan√ßado
Voc√™ pode continuar usando as cartas pr√©-cadastradas dos desafios anteriores. N√£o precisa reimplementar o cadastro.
Foque na integra√ß√£o de todos os elementos: menus din√¢micos com switch, compara√ß√µes com if-else (e aninhamentos), 
operador tern√°rio, c√°lculo da soma dos atributos e tratamento de empates.
A compara√ß√£o √© feita entre apenas duas cartas.
*/
#include<stdio.h>
#include<string.h>

int main() {
    // Declara√ß√£o de vari√°veis
    char nome_pais_carta1[101]= {0}, nome_pais_carta2[101]= {0}; // Armazena o nome do pa√≠s
    long long int populacao_carta1, populacao_carta2; // Armazena o n√∫mero de habitantes da cidade
    float area_carta1, area_carta2; // Armazena a √°rea da cidade em kilometros quadrados
    double pib_carta1, pib_carta2; // Armazena o PIB (Produto Interno Bruto) da cidade
    int pontos_turisticos_carta1, pontos_turisticos_carta2; // Armazena o n√∫mero de pontos tur√≠sticos da cidade
    float densidade_populacional_carta1, densidade_populacional_carta2; // Armazena a densidade populacional da cidade ou seja popula√ß√£o / √°rea da cidade
    char resultado_populacao[200], resultado_area[200], resultado_pib[200], resultado_pontos_turisticos[200],resultado_densidade_populacional[200]; // Armazena o resultado das compara√ß√µes
    int opcao, atributo1, atributo2;// Armazena a op√ß√£o de atributo escolhido pelo usu√°rio no Menu
    char *nome_atributo1, *nome_atributo2; // Armazena o nome do atributo escolhido
    char *unidade1, *unidade2; // Armazena a unidade do atributo escolhido hab; km¬≤; hab/km¬≤; etc 
    double soma_atributos_carta1, soma_atributos_carta2; // Armazena a soma dos atributos das cartas
    double valor1_carta1, valor1_carta2, valor2_carta1, valor2_carta2; // Armazena os valores dos atributos das cartas
    char texto_atributo1_carta1[100], texto_atributo1_carta2[100], texto_atributo2_carta1[100], texto_atributo2_carta2[100]; // Armazena o texto dos atributos das cartas
    char *mensagem = "\n"; // Armazena as mensagens usadas pelo sistema

    // Informa√ß√µes gerais
    printf("\n\n****** Super Trunfo de Pa√≠ses ******\n\n");
    // Coletando informa√ß√µes da primeira carta
    printf("Digite os dados da primeira carta\n\n");
    printf("-=== Carta1 ===-\n");

    // Observa√ß√£o sobre o campo nome_pais_carta1
    printf("\nDigite o nome do Pa√≠s com no m√°ximo 100 caracteres.\n\n");
    // Nome do Pa√≠s
    printf("Nome do Pa√≠s: ");
    fgets(nome_pais_carta1, 101, stdin);
    nome_pais_carta1[strcspn(nome_pais_carta1, "\n")] = '\0'; // remove a quebra de linha na variavel
    printf("\n");

    // Observa√ß√£o sobre o campo populacao_carta1
    printf("\nDigite o n√∫mero de habitantes do Pa√≠s.\n\n");
    // Popula√ß√£o
    printf("Popula√ß√£o: ");
    scanf("%lli", &populacao_carta1);
    printf("\n");

    // Observa√ß√£o sobre o campo area_carta1
    printf("\nDigite a √°rea do Pa√≠s em quil√¥metros quadrados.\n\n");
    // √Årea
    printf("√Årea: ");
    scanf("%f", &area_carta1);
    printf("\n");

    // Observa√ß√£o sobre o campo pib_carta1
    printf("\nDigite o PIB (Produto Interno Bruto) do Pa√≠s.\n\n");
    // PIB
    printf("PIB: ");
    scanf("%lf", &pib_carta1);
    printf("\n");

    // Observa√ß√µes sobre o campo pontos_turisticos_carta1 
    printf("\nDigite a quantidade de pontos tur√≠sticos no Pa√≠s.\n\n");
    // Pontos tur√≠sticos
    printf("N√∫mero de Pontos Tur√≠sticos: ");
    scanf("%d", &pontos_turisticos_carta1);
    printf("\n\n");

    // Campos calculados
    densidade_populacional_carta1 = (float) populacao_carta1 / area_carta1; // calcula a densidade populacional da carta 1
 
    // Coletando informa√ß√µes da segunda carta
    printf("Digite os dados da segunda carta\n\n");
    printf("-=== Carta2 ===-\n");

    // Observa√ß√£o sobre o campo nome_pais_carta2
    printf("\nDigite o nome do Pa√≠s com no m√°ximo 100 caracteres.\n\n");
    // limpa o buffer
    getchar();
    // Nome do Pa√≠s
    printf("Nome do Pa√≠s: ");
    fgets(nome_pais_carta2, 101, stdin);
    nome_pais_carta2[strcspn(nome_pais_carta2, "\n")] = '\0'; // remove a quebra de linha na variavel
    printf("\n");

    // Observa√ß√£o sobre o campo populacao_carta2
    printf("\nDigite o n√∫mero de habitantes do Pa√≠s.\n\n");
    // Popula√ß√£o
    printf("Popula√ß√£o: ");
    scanf("%lli", &populacao_carta2);
    printf("\n");

    // Observa√ß√£o sobre o campo area_carta2
    printf("\nDigite a √°rea do Pa√≠s em quil√¥metros quadrados.\n\n");
    // √Årea
    printf("√Årea: ");
    scanf("%f", &area_carta2);
    printf("\n");

    // Observa√ß√£o sobre o campo pib_carta2
    printf("\nDigite o PIB (Produto Interno Bruto) do Pa√≠s.\n\n");
    // PIB
    printf("PIB: ");
    scanf("%lf", &pib_carta2);
    printf("\n");
    
    // Observa√ß√µes sobre o campo pontos_turisticos_carta2
    printf("\nDigite a quantidade de pontos tur√≠sticos do Pa√≠s.\n\n");
    // Pontos tur√≠sticos
    printf("N√∫mero de Pontos Tur√≠sticos: ");
    scanf("%d", &pontos_turisticos_carta2);
    printf("\n\n");

    // Campos calculados
    densidade_populacional_carta2 = (float) populacao_carta2 / area_carta2; // calcula a densidade populacional da carta 2

    // Menu Interativo s√≥ sa√≠ do programa se for selecionada a op√ß√£o "6. Sair"
    do {
        printf("==================================================================\n");
        // Exibe o cabe√ßalho do jogo ou mensagens de erro do sistema
        mensagem == "\n" ? printf("       A G O R A   V A M O S   J O G A R!!!\n") : printf(mensagem); 
        printf("==================================================================\n\n");

        // Menu Interativo escolha do 1¬∫ atributo
        printf("===- Escolha dois atributos num√©ricos diferentes para comparar as cartas -===\n");
        printf("Escolha o n√∫mero relativo ao 1¬∫ atributo que deseja comparar ou digite 6 para sair:\n");
        printf("1. Popula√ß√£o\n");
        printf("2. √Årea\n");
        printf("3. PIB\n");
        printf("4. Pontos Tur√≠sticos\n");
        printf("5. Densidade Populacional\n");
        printf("6. Sair\n");
        printf("\n");
        printf("Digite o n√∫mero do 1¬∫ atributo: ");
        scanf("%d", &opcao); // Armazena o primeiro atributo escolhido
        printf("\n");

        // Menu Interativo 2¬∫ menu
        switch (opcao) {
            case 1: 
            case 2: 
            case 3: 
            case 4: 
            case 5:
                atributo1 = opcao; // atributo1 recebe a op√ß√£o escolhida no primeiro menu
                mensagem = "\n"; // zera a variavel de mensagem do sistema com uma quebra de p√°gina

                do
                {
                    printf("==================================================================\n");
                    // Exibe o cabe√ßalho do jogo ou mensagens de erro do sistema
                    mensagem == "\n" ? printf("     E S C O L H A   O U T R O   A T R I B U T O!!!\n") : printf(mensagem); 
                    printf("==================================================================\n\n");

                    // Menu Interativo escolha do 2¬∫ atributo
                    printf("Escolha o n√∫mero relativo ao 2¬∫ atributo que deseja comparar ou digite 6 para sair:\n");
                    // Exibe o 2¬∫ Menu sem o atributo escolhido no primeiro Menu
                    if (atributo1 != 1) printf("1. Popula√ß√£o\n");
                    if (atributo1 != 2) printf("2. √Årea\n");
                    if (atributo1 != 3) printf("3. PIB\n");
                    if (atributo1 != 4) printf("4. Pontos Tur√≠sticos\n");
                    if (atributo1 != 5) printf("5. Densidade Populacional\n");
                    printf("6. Sair\n\n");
                    
                    printf("Digite o n√∫mero do 2¬∫ atributo: ");
                    scanf("%d", &opcao); // Armazena o segundo atributo escolhido

                    switch (opcao) {
                        case 1: 
                        case 2: 
                        case 3: 
                        case 4: 
                        case 5:
                            // verifica se foi digitado o mesmo valor do primeiro atributo
                            if (opcao == atributo1) { 
                                // Armazena a mensagem de erro do sistema para ser exibida no cabe√ßalho do Menu
                                mensagem = "Erro: Voc√™ j√° escolheu este atributo! Escolha outro.\n\n"; 
                            } else {
                                atributo2 = opcao; // atributo1 recebe a op√ß√£o escolhida no segundo menu
                                mensagem = "\n";
                            }
                            break;
                        case 6:
                            // Armazena a mensagem de saida do sistema
                            mensagem = "Voc√™ escolheu sair. Saindo...\n"; 
                            break;
                        default:
                            // Armazena a mensagem de erro do sistema para ser exibida no cabe√ßalho do Menu
                            mensagem = "Erro: Op√ß√£o inv√°lida! Escolha de 1 a 5 (ou 6 para sair).\n\n"; 
                            break;
                    }
                // Fim da valida√ß√£o do 2¬∫ Menu s√≥ sai do loop se escolher as op√ß√µes disponiveis
                } while ((opcao < 1 || opcao > 6) || opcao == atributo1);

                // Armazena o valor e dados dos atributos para o primeiro atributo               
                if (opcao != 6) 
                {
                    switch (atributo1) {
                        case 1: // Popula√ß√£o
                            valor1_carta1 = populacao_carta1;
                            valor1_carta2 = populacao_carta2;
                            nome_atributo1 = "Popula√ß√£o";
                            unidade1 = "hab"; 
                            break;
                        
                        case 2: // √Årea
                            valor1_carta1 = area_carta1;
                            valor1_carta2 = area_carta2;
                            nome_atributo1 = "√Årea";
                            unidade1 = "km¬≤";
                            break;

                        case 3: // PIB
                            valor1_carta1 = pib_carta1;
                            valor1_carta2 = pib_carta2;
                            nome_atributo1 = "PIB";
                            unidade1 = "de dolares";
                            break;

                        case 4: // Pontos Tur√≠sticos
                            valor1_carta1 = pontos_turisticos_carta1;
                            valor1_carta2 = pontos_turisticos_carta2;
                            nome_atributo1 = "Pontos Tur√≠sticos";
                            unidade1 = "pontos tur√≠sticos";
                            break;

                        case 5: // Densidade Populacional
                            valor1_carta1 = densidade_populacional_carta1;
                            valor1_carta2 = densidade_populacional_carta2;
                            nome_atributo1 = "Densidade Populacional";
                            unidade1 = "hab/km¬≤";
                            break;
                    }
                    // Armazena o valor e dados dos atributos para o segundo atributo
                    switch (atributo2) {
                        case 1: // Popula√ß√£o
                            valor2_carta1 = populacao_carta1;
                            valor2_carta2 = populacao_carta2;
                            nome_atributo2 = "Popula√ß√£o";
                            unidade2 = "hab"; 
                            break;
                        
                        case 2: // √Årea
                            valor2_carta1 = area_carta1;
                            valor2_carta2 = area_carta2;
                            nome_atributo2 = "√Årea";
                            unidade2 = "km¬≤";
                            break;

                        case 3: // PIB 
                            valor2_carta1 = pib_carta1;
                            valor2_carta2 = pib_carta2;
                            nome_atributo2 = "PIB";
                            unidade2 = "de dolares";
                            break;

                        case 4: // Pontos Tur√≠sticos
                            valor2_carta1 = pontos_turisticos_carta1;
                            valor2_carta2 = pontos_turisticos_carta2;
                            nome_atributo2 = "Pontos Tur√≠sticos";
                            unidade2 = "pontos tur√≠sticos";
                            break;

                        case 5: // Densidade Populacional 
                            valor2_carta1 = densidade_populacional_carta1;
                            valor2_carta2 = densidade_populacional_carta2;
                            nome_atributo2 = "Densidade Populacional";
                            unidade2 = "hab/km¬≤";
                            break;

                        }
                    
                    // Soma atributos das cartas 1 e 2, no caso da Densidade Populacional o valor ser√° subtraido
                    // pois a menor Densidade Populacional ganha ent√£o vamos deixar esse valor negativo
                    // Carta 1
                    soma_atributos_carta1 = (atributo1 == 5 ? -valor1_carta1 : valor1_carta1) + (atributo2 == 5 ? -valor2_carta1 : valor2_carta1);
                    // Carta 2
                    soma_atributos_carta2 = (atributo1 == 5 ? -valor1_carta2 : valor1_carta2) + (atributo2 == 5 ? -valor2_carta2 : valor2_carta2);

                    // Exibindo o resultado na tela
                    printf("\n*** Compara√ß√£o dos atributos (%s e %s) ***\n", nome_atributo1, nome_atributo2);
                    printf("Carta 1 (%s) - %s: %.2lf %s - %s: %.2lf %s\n", nome_pais_carta1, nome_atributo1, valor1_carta1, unidade1, nome_atributo2, valor2_carta1, unidade2);
                    printf("Carta 1 (%s) - Soma dos atributos: %.2lf\n\n", nome_pais_carta1, soma_atributos_carta1);

                    printf("Carta 2 (%s) - %s: %.2lf %s - %s: %.2lf %s\n", nome_pais_carta2, nome_atributo1, valor1_carta2, unidade1, nome_atributo2, valor2_carta2, unidade2);
                    printf("Carta 2 (%s) - Soma dos atributos: %.2lf\n\n", nome_pais_carta2, soma_atributos_carta2);

                    // Comparando os atributos e validando o ganhador
                    soma_atributos_carta1 == soma_atributos_carta2 ? printf("RESULTADO: Empate!\n\n") : 
                    soma_atributos_carta1 > soma_atributos_carta2  ? printf("VENCEDOR: Carta 1 (%s)!\n\n", nome_pais_carta1) : 
                                                                     printf("VENCEDOR: Carta 2 (%s)!\n\n", nome_pais_carta2);

                }

                // Se o usu√°rio n√£o pediu para sair verifica se ele quer jogar de novo
                if (opcao != 6) {
                    printf("Voc√™ quer jogar novamente?);\n");
                    printf("1 para Sim ou 2 para N√£o: ");
                    // Armazena a op√ß√£o escolhida pelo jogador
                    scanf("%d", &opcao); 
                    printf("\n");

                    // Se o jogador escolher sair 
                    if (opcao == 2){
                        opcao = 6;
                        printf("Voc√™ escolheu sair. Saindo...\n");
                        break;
                    
                    // Se escolher uma op√ß√£o inv√°lida    
                    } else if (opcao != 1) {   
                        mensagem = "ERRO: OP√á√ÉO INV√ÅLIDA (DIGITE 6 PARA SAIR OU JOGUE NOVAMENTE).\n";
                    
                    // Se escolher a op√ß√£o de continuar jogando    
                    } else {
                        mensagem = "\n";
                    
                    }
                
                } else {
                    printf(mensagem); // Exibe a mensagem de sistema armazenada

                }
                
                break;
            
            case 6: 
                // Se Escolher sair no primeiro Menu
                mensagem = "Voc√™ escolheu sair. Saindo...\n";
                printf(mensagem);
                break;

            default:
                // Se Escolher uma op√ß√£o inv√°lida no primeiro Menu
                mensagem = "ERRO: OP√á√ÉO INV√ÅLIDA (DIGITE UM N√öMERO DE 1 A 5 OU 6 PARA SAIR.\n";       
        
        }

    } while (opcao != 6); // Se escolher 6 sa√≠ do jogo
 
    return 0;
    
